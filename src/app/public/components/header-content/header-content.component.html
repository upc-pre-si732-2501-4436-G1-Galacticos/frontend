<mat-toolbar>
  <button
    mat-icon-button
    *ngIf="isMobile"
    (click)="toggleSidenav.emit()"
    aria-label="Open menu"
  >
    <mat-icon>menu</mat-icon>
  </button>

  <a class="logo-container" routerLink="/home">
    <img
      ngSrc="logos/FitWiseNoBG.png"
      width="100"
      height="50"
      alt="FitWise Logo"
      priority
    />
  </a>

  <span class="spacer"></span>

  <!-- Navegación -->
  <div class="nav-links" [class.is-mobile]="isMobile">
    <a mat-button routerLink="/diets" routerLinkActive="active-link">
      <mat-icon>restaurant</mat-icon>
      <span>{{ 'HEADER.DIETS' | translate }}</span>
    </a>
    <a mat-button routerLink="/routines" routerLinkActive="active-link">
      <mat-icon>fitness_center</mat-icon>
      <span>{{ 'HEADER.ROUTINES' | translate }}</span>
    </a>
    <a mat-button routerLink="/planner" routerLinkActive="active-link">
      <mat-icon>edit</mat-icon>
      <span>{{ 'HEADER.PLANNER' | translate }}</span>
    </a>
    <a mat-button routerLink="/exercises" routerLinkActive="active-link">
      <mat-icon>fitness_center</mat-icon>
      <span>{{ 'HEADER.EXERCISES' | translate }}</span>
    </a>
    <a mat-button routerLink="/meals" routerLinkActive="active-link">
      <mat-icon>restaurant</mat-icon>
      <span>{{ 'HEADER.MEALS' | translate }}</span>
    </a>
  </div>

  <!-- Selector de idioma -->
  <app-language-switcher />

  <!-- Botón de cambio de tema -->
  <button
    mat-icon-button
    (click)="toggleTheme()"
    aria-label="Toggle theme"
    class="theme-toggle-button"
  >
    <mat-icon>{{ currentTheme === 'light' ? 'dark_mode' : 'light_mode' }}</mat-icon>
  </button>

  <!-- Menú usuario -->
  <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="User options">
    <mat-icon>account_circle</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <ng-container *ngIf="isSignedIn">
      <button mat-menu-item disabled>
        <mat-icon>person</mat-icon>
        <span>{{ 'HEADER.WELCOME' | translate }}, {{ currentEmail }}</span>
      </button>
      <button mat-menu-item (click)="goToProfile()">
        <mat-icon>manage_accounts</mat-icon>
        <span>{{ 'HEADER.PROFILE' | translate }}</span>
      </button>
      <button mat-menu-item (click)="onSignOut()">
        <mat-icon>logout</mat-icon>
        <span>{{ 'HEADER.SIGN_OUT' | translate }}</span>
      </button>
    </ng-container>
  </mat-menu>
</mat-toolbar>
